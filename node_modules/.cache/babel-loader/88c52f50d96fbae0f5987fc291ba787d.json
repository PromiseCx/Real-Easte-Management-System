{"remainingRequest":"D:\\webproject\\node_modules\\babel-loader\\lib\\index.js!D:\\webproject\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\webproject\\src\\components\\TagSelect\\index.jsx","dependencies":[{"path":"D:\\webproject\\src\\components\\TagSelect\\index.jsx","mtime":1587193627663},{"path":"D:\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRDpcXHdlYnByb2plY3RcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9tZXJnZUpTWFByb3BzIGZyb20gIkB2dWUvYmFiZWwtaGVscGVyLXZ1ZS1qc3gtbWVyZ2UtcHJvcHMiOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzL191dGlsL3Z1ZS10eXBlcyc7CmltcG9ydCBPcHRpb24gZnJvbSAnLi9UYWdTZWxlY3RPcHRpb24uanN4JzsKaW1wb3J0IHsgZmlsdGVyRW1wdHkgfSBmcm9tICdAL2NvbXBvbmVudHMvX3V0aWwvdXRpbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBPcHRpb246IE9wdGlvbiwKICBuYW1lOiAnVGFnU2VsZWN0JywKICBtb2RlbDogewogICAgcHJvcDogJ2NoZWNrZWQnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfSwKICBwcm9wczogewogICAgcHJlZml4Q2xzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2FudC1wcm8tdGFnLXNlbGVjdCcKICAgIH0sCiAgICBkZWZhdWx0VmFsdWU6IHsKICAgICAgdHlwZTogUHJvcFR5cGVzLmFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogUHJvcFR5cGVzLmFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZXhwYW5kYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGhpZGVDaGVja0FsbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGV4cGFuZDogZmFsc2UsCiAgICAgIGxvY2FsQ2hlY2tBbGw6IGZhbHNlLAogICAgICBpdGVtczogdGhpcy5nZXRJdGVtc0tleShmaWx0ZXJFbXB0eSh0aGlzLiRzbG90cy5kZWZhdWx0KSksCiAgICAgIHZhbDogdGhpcy52YWx1ZSB8fCB0aGlzLmRlZmF1bHRWYWx1ZSB8fCBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShjaGVja2VkKSB7CiAgICAgIHZhciBrZXkgPSBPYmplY3Qua2V5cyh0aGlzLml0ZW1zKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBrZXkgPT09IGNoZWNrZWQudmFsdWU7CiAgICAgIH0pOwogICAgICB0aGlzLml0ZW1zW2tleV0gPSBjaGVja2VkLmNoZWNrZWQ7CiAgICAgIHZhciBib29sID0gT2JqZWN0LnZhbHVlcyh0aGlzLml0ZW1zKS5sYXN0SW5kZXhPZihmYWxzZSk7CgogICAgICBpZiAoYm9vbCA9PT0gLTEpIHsKICAgICAgICB0aGlzLmxvY2FsQ2hlY2tBbGwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9jYWxDaGVja0FsbCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25DaGVja0FsbDogZnVuY3Rpb24gb25DaGVja0FsbChjaGVja2VkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBPYmplY3Qua2V5cyh0aGlzLml0ZW1zKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgX3RoaXMuaXRlbXNbdl0gPSBjaGVja2VkLmNoZWNrZWQ7CiAgICAgIH0pOwogICAgICB0aGlzLmxvY2FsQ2hlY2tBbGwgPSBjaGVja2VkLmNoZWNrZWQ7CiAgICB9LAogICAgZ2V0SXRlbXNLZXk6IGZ1bmN0aW9uIGdldEl0ZW1zS2V5KGl0ZW1zKSB7CiAgICAgIHZhciB0b3RhbEl0ZW0gPSB7fTsKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHRvdGFsSXRlbVtpdGVtLmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhICYmIGl0ZW0uY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGEudmFsdWVdID0gZmFsc2U7CiAgICAgIH0pOwogICAgICByZXR1cm4gdG90YWxJdGVtOwogICAgfSwKICAgIC8vIENoZWNrQWxsIEJ1dHRvbgogICAgcmVuZGVyQ2hlY2tBbGw6IGZ1bmN0aW9uIHJlbmRlckNoZWNrQWxsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIHByb3BzID0gewogICAgICAgIG9uOiB7CiAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShjaGVja2VkKSB7CiAgICAgICAgICAgIF90aGlzMi5vbkNoZWNrQWxsKGNoZWNrZWQpOwoKICAgICAgICAgICAgY2hlY2tlZC52YWx1ZSA9ICd0b3RhbCc7CgogICAgICAgICAgICBfdGhpczIuJGVtaXQoJ2NoYW5nZScsIGNoZWNrZWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGNoZWNrQWxsRWxlbWVudCA9IGgoT3B0aW9uLCBfbWVyZ2VKU1hQcm9wcyhbewogICAgICAgICJrZXkiOiAndG90YWwnLAogICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICJjaGVja2VkIjogdGhpcy5sb2NhbENoZWNrQWxsCiAgICAgICAgfQogICAgICB9LCBwcm9wc10pLCBbIkFsbCJdKTsKICAgICAgcmV0dXJuICF0aGlzLmhpZGVDaGVja0FsbCAmJiBjaGVja0FsbEVsZW1lbnQgfHwgbnVsbDsKICAgIH0sCiAgICAvLyBleHBhbmRhYmxlCiAgICByZW5kZXJFeHBhbmRhYmxlOiBmdW5jdGlvbiByZW5kZXJFeHBhbmRhYmxlKCkge30sCiAgICAvLyByZW5kZXIgb3B0aW9uCiAgICByZW5kZXJUYWdzOiBmdW5jdGlvbiByZW5kZXJUYWdzKGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGxpc3RlbmVycyA9IHsKICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShjaGVja2VkKSB7CiAgICAgICAgICBfdGhpczMub25DaGFuZ2UoY2hlY2tlZCk7CgogICAgICAgICAgX3RoaXMzLiRlbWl0KCdjaGFuZ2UnLCBjaGVja2VkKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zOwogICAgICAgIG9wdGlvbnMubGlzdGVuZXJzID0gbGlzdGVuZXJzOwogICAgICAgIHJldHVybiB2bm9kZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwogICAgdmFyIHByZWZpeENscyA9IHRoaXMuJHByb3BzLnByZWZpeENsczsKCiAgICB2YXIgY2xhc3NTdHJpbmcgPSBfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChwcmVmaXhDbHMpLCB0cnVlKTsKCiAgICB2YXIgdGFnSXRlbXMgPSBmaWx0ZXJFbXB0eSh0aGlzLiRzbG90cy5kZWZhdWx0KTsKICAgIHJldHVybiBoKCJkaXYiLCB7CiAgICAgICJjbGFzcyI6IGNsYXNzU3RyaW5nCiAgICB9LCBbdGhpcy5yZW5kZXJDaGVja0FsbCgpLCB0aGlzLnJlbmRlclRhZ3ModGFnSXRlbXMpXSk7CiAgfQp9Ow=="},{"version":3,"sources":["D:/webproject/src/components/TagSelect/index.jsx"],"names":["PropTypes","Option","filterEmpty","name","model","prop","event","props","prefixCls","type","String","default","defaultValue","array","value","expandable","Boolean","hideCheckAll","data","expand","localCheckAll","items","getItemsKey","$slots","val","methods","onChange","checked","key","Object","keys","filter","bool","values","lastIndexOf","onCheckAll","forEach","v","totalItem","item","componentOptions","propsData","renderCheckAll","on","change","$emit","checkAllElement","renderExpandable","renderTags","listeners","map","vnode","options","render","$props","classString","tagItems"],"mappings":"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","sourcesContent":["import PropTypes from 'ant-design-vue/es/_util/vue-types'\r\nimport Option from './TagSelectOption.jsx'\r\nimport { filterEmpty } from '@/components/_util/util'\r\n\r\nexport default {\r\n    Option,\r\n    name: 'TagSelect',\r\n    model: {\r\n        prop: 'checked',\r\n        event: 'change'\r\n    },\r\n    props: {\r\n        prefixCls: {\r\n            type: String,\r\n            default: 'ant-pro-tag-select'\r\n        },\r\n        defaultValue: {\r\n            type: PropTypes.array,\r\n            default: null\r\n        },\r\n        value: {\r\n            type: PropTypes.array,\r\n            default: null\r\n        },\r\n        expandable: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        hideCheckAll: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            expand: false,\r\n            localCheckAll: false,\r\n            items: this.getItemsKey(filterEmpty(this.$slots.default)),\r\n            val: this.value || this.defaultValue || []\r\n        }\r\n    },\r\n    methods: {\r\n        onChange(checked) {\r\n            const key = Object.keys(this.items).filter(key => key === checked.value)\r\n            this.items[key] = checked.checked\r\n            const bool = Object.values(this.items).lastIndexOf(false)\r\n            if (bool === -1) {\r\n                this.localCheckAll = true\r\n            } else {\r\n                this.localCheckAll = false\r\n            }\r\n        },\r\n        onCheckAll(checked) {\r\n            Object.keys(this.items).forEach(v => {\r\n                this.items[v] = checked.checked\r\n            })\r\n            this.localCheckAll = checked.checked\r\n        },\r\n        getItemsKey(items) {\r\n            const totalItem = {}\r\n            items.forEach(item => {\r\n                totalItem[item.componentOptions.propsData && item.componentOptions.propsData.value] = false\r\n            })\r\n            return totalItem\r\n        },\r\n        // CheckAll Button\r\n        renderCheckAll() {\r\n            const props = {\r\n                on: {\r\n                    change: checked => {\r\n                        this.onCheckAll(checked)\r\n                        checked.value = 'total'\r\n                        this.$emit('change', checked)\r\n                    }\r\n                }\r\n            }\r\n            const checkAllElement = (\r\n                <Option key={'total'} checked={this.localCheckAll} {...props}>\r\n                    All\r\n                </Option>\r\n            )\r\n            return (!this.hideCheckAll && checkAllElement) || null\r\n        },\r\n        // expandable\r\n        renderExpandable() {},\r\n        // render option\r\n        renderTags(items) {\r\n            const listeners = {\r\n                change: checked => {\r\n                    this.onChange(checked)\r\n                    this.$emit('change', checked)\r\n                }\r\n            }\r\n\r\n            return items.map(vnode => {\r\n                const options = vnode.componentOptions\r\n                options.listeners = listeners\r\n                return vnode\r\n            })\r\n        }\r\n    },\r\n    render() {\r\n        const {\r\n            $props: { prefixCls }\r\n        } = this\r\n        const classString = {\r\n            [`${prefixCls}`]: true\r\n        }\r\n        const tagItems = filterEmpty(this.$slots.default)\r\n        return (\r\n            <div class={classString}>\r\n                {this.renderCheckAll()}\r\n                {this.renderTags(tagItems)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]}]}