{"remainingRequest":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\babel-loader\\lib\\index.js!D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\src\\utils\\helper\\permission.js","dependencies":[{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\src\\utils\\helper\\permission.js","mtime":1587193627685},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJEOlxcV2ViU3Ryb21cXFRlc3RQcm9qZWN0XFxwcm9qZWN0XFwwNlx1Njk3Q1x1NzZEOFx1N0JBMVx1NzQwNjNcXHdlYnByb2plY3RcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwpleHBvcnQgdmFyIFBFUk1JU1NJT05fRU5VTSA9IHsKICBhZGQ6IHsKICAgIGtleTogJ2FkZCcsCiAgICBsYWJlbDogJ+aWsOWinicKICB9LAogIGRlbGV0ZTogewogICAga2V5OiAnZGVsZXRlJywKICAgIGxhYmVsOiAn5Yig6ZmkJwogIH0sCiAgZWRpdDogewogICAga2V5OiAnZWRpdCcsCiAgICBsYWJlbDogJ+S/ruaUuScKICB9LAogIHF1ZXJ5OiB7CiAgICBrZXk6ICdxdWVyeScsCiAgICBsYWJlbDogJ+afpeivoicKICB9LAogIGdldDogewogICAga2V5OiAnZ2V0JywKICAgIGxhYmVsOiAn6K+m5oOFJwogIH0sCiAgZW5hYmxlOiB7CiAgICBrZXk6ICdlbmFibGUnLAogICAgbGFiZWw6ICflkK/nlKgnCiAgfSwKICBkaXNhYmxlOiB7CiAgICBrZXk6ICdkaXNhYmxlJywKICAgIGxhYmVsOiAn56aB55SoJwogIH0sCiAgaW1wb3J0OiB7CiAgICBrZXk6ICdpbXBvcnQnLAogICAgbGFiZWw6ICflr7zlhaUnCiAgfSwKICBleHBvcnQ6IHsKICAgIGtleTogJ2V4cG9ydCcsCiAgICBsYWJlbDogJ+WvvOWHuicKICB9Cn07CgpmdW5jdGlvbiBwbHVnaW4oVnVlKSB7CiAgaWYgKHBsdWdpbi5pbnN0YWxsZWQpIHsKICAgIHJldHVybjsKICB9CgogICFWdWUucHJvdG90eXBlLiRhdXRoICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZ1ZS5wcm90b3R5cGUsIHsKICAgICRhdXRoOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAocGVybWlzc2lvbnMpIHsKICAgICAgICAgIHZhciBfcGVybWlzc2lvbnMkc3BsaXQgPSBwZXJtaXNzaW9ucy5zcGxpdCgnLicpLAogICAgICAgICAgICAgIF9wZXJtaXNzaW9ucyRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGVybWlzc2lvbnMkc3BsaXQsIDIpLAogICAgICAgICAgICAgIHBlcm1pc3Npb24gPSBfcGVybWlzc2lvbnMkc3BsaXQyWzBdLAogICAgICAgICAgICAgIGFjdGlvbiA9IF9wZXJtaXNzaW9ucyRzcGxpdDJbMV07CgogICAgICAgICAgdmFyIHBlcm1pc3Npb25MaXN0ID0gX3RoaXMuJHN0b3JlLmdldHRlcnMucm9sZXMucGVybWlzc2lvbnM7CiAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbkxpc3QuZmluZChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgIHJldHVybiB2YWwucGVybWlzc2lvbklkID09PSBwZXJtaXNzaW9uOwogICAgICAgICAgfSkuYWN0aW9uTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICByZXR1cm4gdmFsID09PSBhY3Rpb247CiAgICAgICAgICB9KSA+IC0xOwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9KTsKICAhVnVlLnByb3RvdHlwZS4kZW51bSAmJiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhWdWUucHJvdG90eXBlLCB7CiAgICAkZW51bTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAvLyBjb25zdCBfdGhpcyA9IHRoaXM7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgIHZhciByZXN1bHQgPSBQRVJNSVNTSU9OX0VOVU07CiAgICAgICAgICB2YWwgJiYgdmFsLnNwbGl0KCcuJykuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgJiYgcmVzdWx0W3ZdIHx8IG51bGw7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0pOwp9CgpleHBvcnQgZGVmYXVsdCBwbHVnaW47"},{"version":3,"sources":["D:/WebStrom/TestProject/project/06楼盘管理3/webproject/src/utils/helper/permission.js"],"names":["PERMISSION_ENUM","add","key","label","delete","edit","query","get","enable","disable","import","export","plugin","Vue","installed","prototype","$auth","Object","defineProperties","_this","permissions","split","permission","action","permissionList","$store","getters","roles","find","val","permissionId","actionList","findIndex","$enum","result","forEach","v"],"mappings":";;;;;;;AAAA,OAAO,IAAMA,eAAe,GAAG;AAC3BC,EAAAA,GAAG,EAAE;AAAEC,IAAAA,GAAG,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE;AAArB,GADsB;AAE3BC,EAAAA,MAAM,EAAE;AAAEF,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GAFmB;AAG3BE,EAAAA,IAAI,EAAE;AAAEH,IAAAA,GAAG,EAAE,MAAP;AAAeC,IAAAA,KAAK,EAAE;AAAtB,GAHqB;AAI3BG,EAAAA,KAAK,EAAE;AAAEJ,IAAAA,GAAG,EAAE,OAAP;AAAgBC,IAAAA,KAAK,EAAE;AAAvB,GAJoB;AAK3BI,EAAAA,GAAG,EAAE;AAAEL,IAAAA,GAAG,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE;AAArB,GALsB;AAM3BK,EAAAA,MAAM,EAAE;AAAEN,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GANmB;AAO3BM,EAAAA,OAAO,EAAE;AAAEP,IAAAA,GAAG,EAAE,SAAP;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAPkB;AAQ3BO,EAAAA,MAAM,EAAE;AAAER,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GARmB;AAS3BQ,EAAAA,MAAM,EAAE;AAAET,IAAAA,GAAG,EAAE,QAAP;AAAiBC,IAAAA,KAAK,EAAE;AAAxB;AATmB,CAAxB;;AAYP,SAASS,MAAT,CAAgBC,GAAhB,EAAqB;AACjB,MAAID,MAAM,CAACE,SAAX,EAAsB;AAClB;AACH;;AAED,GAACD,GAAG,CAACE,SAAJ,CAAcC,KAAf,IACIC,MAAM,CAACC,gBAAP,CAAwBL,GAAG,CAACE,SAA5B,EAAuC;AACnCC,IAAAA,KAAK,EAAE;AACHT,MAAAA,GADG,iBACG;AACF,YAAMY,KAAK,GAAG,IAAd;;AACA,eAAO,UAAAC,WAAW,EAAI;AAAA,mCACWA,WAAW,CAACC,KAAZ,CAAkB,GAAlB,CADX;AAAA;AAAA,cACXC,UADW;AAAA,cACCC,MADD;;AAElB,cAAMC,cAAc,GAAGL,KAAK,CAACM,MAAN,CAAaC,OAAb,CAAqBC,KAArB,CAA2BP,WAAlD;AACA,iBACII,cAAc,CACTI,IADL,CACU,UAAAC,GAAG,EAAI;AACT,mBAAOA,GAAG,CAACC,YAAJ,KAAqBR,UAA5B;AACH,WAHL,EAIKS,UAJL,CAIgBC,SAJhB,CAI0B,UAAAH,GAAG,EAAI;AACzB,mBAAOA,GAAG,KAAKN,MAAf;AACH,WANL,IAMS,CAAC,CAPd;AASH,SAZD;AAaH;AAhBE;AAD4B,GAAvC,CADJ;AAsBA,GAACV,GAAG,CAACE,SAAJ,CAAckB,KAAf,IACIhB,MAAM,CAACC,gBAAP,CAAwBL,GAAG,CAACE,SAA5B,EAAuC;AACnCkB,IAAAA,KAAK,EAAE;AACH1B,MAAAA,GADG,iBACG;AACF;AACA,eAAO,UAAAsB,GAAG,EAAI;AACV,cAAIK,MAAM,GAAGlC,eAAb;AACA6B,UAAAA,GAAG,IACCA,GAAG,CAACR,KAAJ,CAAU,GAAV,EAAec,OAAf,CAAuB,UAAAC,CAAC,EAAI;AACxBF,YAAAA,MAAM,GAAIA,MAAM,IAAIA,MAAM,CAACE,CAAD,CAAjB,IAAyB,IAAlC;AACH,WAFD,CADJ;AAIA,iBAAOF,MAAP;AACH,SAPD;AAQH;AAXE;AAD4B,GAAvC,CADJ;AAgBH;;AAED,eAAetB,MAAf","sourcesContent":["export const PERMISSION_ENUM = {\r\n    add: { key: 'add', label: '新增' },\r\n    delete: { key: 'delete', label: '删除' },\r\n    edit: { key: 'edit', label: '修改' },\r\n    query: { key: 'query', label: '查询' },\r\n    get: { key: 'get', label: '详情' },\r\n    enable: { key: 'enable', label: '启用' },\r\n    disable: { key: 'disable', label: '禁用' },\r\n    import: { key: 'import', label: '导入' },\r\n    export: { key: 'export', label: '导出' }\r\n}\r\n\r\nfunction plugin(Vue) {\r\n    if (plugin.installed) {\r\n        return\r\n    }\r\n\r\n    !Vue.prototype.$auth &&\r\n        Object.defineProperties(Vue.prototype, {\r\n            $auth: {\r\n                get() {\r\n                    const _this = this\r\n                    return permissions => {\r\n                        const [permission, action] = permissions.split('.')\r\n                        const permissionList = _this.$store.getters.roles.permissions\r\n                        return (\r\n                            permissionList\r\n                                .find(val => {\r\n                                    return val.permissionId === permission\r\n                                })\r\n                                .actionList.findIndex(val => {\r\n                                    return val === action\r\n                                }) > -1\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n    !Vue.prototype.$enum &&\r\n        Object.defineProperties(Vue.prototype, {\r\n            $enum: {\r\n                get() {\r\n                    // const _this = this;\r\n                    return val => {\r\n                        let result = PERMISSION_ENUM\r\n                        val &&\r\n                            val.split('.').forEach(v => {\r\n                                result = (result && result[v]) || null\r\n                            })\r\n                        return result\r\n                    }\r\n                }\r\n            }\r\n        })\r\n}\r\n\r\nexport default plugin\r\n"]}]}