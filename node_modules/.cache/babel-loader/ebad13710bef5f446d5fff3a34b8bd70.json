{"remainingRequest":"D:\\webproject\\node_modules\\babel-loader\\lib\\index.js!D:\\webproject\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\webproject\\src\\components\\Dialog.js","dependencies":[{"path":"D:\\webproject\\src\\components\\Dialog.js","mtime":1587193627640},{"path":"D:\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFx3ZWJwcm9qZWN0XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IE1vZGFsIGZyb20gJ2FudC1kZXNpZ24tdnVlL2VzL21vZGFsJzsKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChWdWUpIHsKICBmdW5jdGlvbiBkaWFsb2coY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgbW9kYWxQcm9wcykgewogICAgdmFyIF92bSA9IHRoaXM7CgogICAgbW9kYWxQcm9wcyA9IG1vZGFsUHJvcHMgfHwge307CgogICAgaWYgKCFfdm0gfHwgIV92bS5faXNWdWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBkaWFsb2dEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5PmRpdlt0eXBlPWRpYWxvZ10nKTsKCiAgICBpZiAoIWRpYWxvZ0RpdikgewogICAgICBkaWFsb2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZGlhbG9nRGl2LnNldEF0dHJpYnV0ZSgndHlwZScsICdkaWFsb2cnKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaWFsb2dEaXYpOwogICAgfQoKICAgIHZhciBoYW5kbGUgPSBmdW5jdGlvbiBoYW5kbGUoY2hlY2tGdW5jdGlvbiwgYWZ0ZXJIYW5kZWwpIHsKICAgICAgaWYgKGNoZWNrRnVuY3Rpb24gaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIHZhciByZXMgPSBjaGVja0Z1bmN0aW9uKCk7CgogICAgICAgIGlmIChyZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7CiAgICAgICAgICByZXMudGhlbihmdW5jdGlvbiAoYykgewogICAgICAgICAgICBjICYmIGFmdGVySGFuZGVsKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzICYmIGFmdGVySGFuZGVsKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGNoZWNrRnVuY3Rpb24gJiYgYWZ0ZXJIYW5kZWwoKQogICAgICAgIGNoZWNrRnVuY3Rpb24gfHwgYWZ0ZXJIYW5kZWwoKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgZGlhbG9nSW5zdGFuY2UgPSBuZXcgVnVlKHsKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHJvdXRlcjogX3ZtLiRyb3V0ZXIsCiAgICAgIHN0b3JlOiBfdm0uJHN0b3JlLAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHRoaXMuJG9uKCdjbG9zZScsIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBfdGhpcy5oYW5kbGVDbG9zZSgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgaGFuZGxlKHRoaXMuJHJlZnMuX2NvbXBvbmVudC5vbkNhbmNlbCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIudmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMyLiRyZWZzLl9jb21wb25lbnQuJGVtaXQoJ2Nsb3NlJyk7CgogICAgICAgICAgICBfdGhpczIuJHJlZnMuX2NvbXBvbmVudC4kZW1pdCgnY2FuY2VsJyk7CgogICAgICAgICAgICBkaWFsb2dJbnN0YW5jZS4kZGVzdHJveSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVPazogZnVuY3Rpb24gaGFuZGxlT2soKSB7CiAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgICBoYW5kbGUodGhpcy4kcmVmcy5fY29tcG9uZW50Lm9uT0sgfHwgdGhpcy4kcmVmcy5fY29tcG9uZW50Lm9uT2ssIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMzLnZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy4kcmVmcy5fY29tcG9uZW50LiRlbWl0KCdjbG9zZScpOwoKICAgICAgICAgICAgX3RoaXMzLiRyZWZzLl9jb21wb25lbnQuJGVtaXQoJ29rJyk7CgogICAgICAgICAgICBkaWFsb2dJbnN0YW5jZS4kZGVzdHJveSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHZhciBtb2RhbE1vZGVsID0gbW9kYWxQcm9wcyAmJiBtb2RhbFByb3BzLm1vZGVsOwoKICAgICAgICBpZiAobW9kYWxNb2RlbCkgewogICAgICAgICAgZGVsZXRlIG1vZGFsUHJvcHMubW9kZWw7CiAgICAgICAgfQoKICAgICAgICB2YXIgTW9kYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIG1vZGFsTW9kZWwgJiYgewogICAgICAgICAgbW9kZWw6IG1vZGFsTW9kZWwKICAgICAgICB9IHx8IHt9LCB7CiAgICAgICAgICBhdHRyczogT2JqZWN0LmFzc2lnbih7fSwgX29iamVjdFNwcmVhZCh7fSwgbW9kYWxQcm9wcy5hdHRycyB8fCBtb2RhbFByb3BzKSwgewogICAgICAgICAgICB2aXNpYmxlOiB0aGlzLnZpc2libGUKICAgICAgICAgIH0pLAogICAgICAgICAgb246IE9iamVjdC5hc3NpZ24oe30sIF9vYmplY3RTcHJlYWQoe30sIG1vZGFsUHJvcHMub24gfHwgbW9kYWxQcm9wcyksIHsKICAgICAgICAgICAgb2s6IGZ1bmN0aW9uIG9rKCkgewogICAgICAgICAgICAgIHRoYXQuaGFuZGxlT2soKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgICAgICAgICAgdGhhdC5oYW5kbGVDbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pOwogICAgICAgIHZhciBjb21wb25lbnRNb2RlbCA9IGNvbXBvbmVudFByb3BzICYmIGNvbXBvbmVudFByb3BzLm1vZGVsOwoKICAgICAgICBpZiAoY29tcG9uZW50TW9kZWwpIHsKICAgICAgICAgIGRlbGV0ZSBjb21wb25lbnRQcm9wcy5tb2RlbDsKICAgICAgICB9CgogICAgICAgIHZhciBDb21wb25lbnRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGNvbXBvbmVudE1vZGVsICYmIHsKICAgICAgICAgIG1vZGVsOiBjb21wb25lbnRNb2RlbAogICAgICAgIH0gfHwge30sIHsKICAgICAgICAgIHJlZjogJ19jb21wb25lbnQnLAogICAgICAgICAgYXR0cnM6IE9iamVjdC5hc3NpZ24oe30sIF9vYmplY3RTcHJlYWQoe30sIGNvbXBvbmVudFByb3BzICYmIGNvbXBvbmVudFByb3BzLmF0dHJzIHx8IGNvbXBvbmVudFByb3BzKSksCiAgICAgICAgICBvbjogT2JqZWN0LmFzc2lnbih7fSwgX29iamVjdFNwcmVhZCh7fSwgY29tcG9uZW50UHJvcHMgJiYgY29tcG9uZW50UHJvcHMub24gfHwgY29tcG9uZW50UHJvcHMpKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBoKE1vZGFsLCBNb2RhbFByb3BzLCBbaChjb21wb25lbnQsIENvbXBvbmVudFByb3BzKV0pOwogICAgICB9CiAgICB9KS4kbW91bnQoZGlhbG9nRGl2KTsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRpYWxvZycsIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIGRpYWxvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfQogIH0pOwp9KTs="},{"version":3,"sources":["D:/webproject/src/components/Dialog.js"],"names":["Modal","Vue","dialog","component","componentProps","modalProps","_vm","_isVue","dialogDiv","document","querySelector","createElement","setAttribute","body","appendChild","handle","checkFunction","afterHandel","Function","res","Promise","then","c","dialogInstance","data","visible","router","$router","store","$store","mounted","$on","v","handleClose","methods","$refs","_component","onCancel","$emit","$destroy","handleOk","onOK","onOk","render","h","that","modalModel","model","ModalProps","Object","assign","attrs","on","ok","cancel","componentModel","ComponentProps","ref","$mount","defineProperty","prototype","get","apply","arguments"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,yBAAlB;AACA,gBAAe,UAAAC,GAAG,EAAI;AAClB,WAASC,MAAT,CAAgBC,SAAhB,EAA2BC,cAA3B,EAA2CC,UAA3C,EAAuD;AACnD,QAAMC,GAAG,GAAG,IAAZ;;AACAD,IAAAA,UAAU,GAAGA,UAAU,IAAI,EAA3B;;AACA,QAAI,CAACC,GAAD,IAAQ,CAACA,GAAG,CAACC,MAAjB,EAAyB;AACrB;AACH;;AACD,QAAIC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAAhB;;AACA,QAAI,CAACF,SAAL,EAAgB;AACZA,MAAAA,SAAS,GAAGC,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAZ;AACAH,MAAAA,SAAS,CAACI,YAAV,CAAuB,MAAvB,EAA+B,QAA/B;AACAH,MAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,SAA1B;AACH;;AAED,QAAMO,MAAM,GAAG,SAATA,MAAS,CAASC,aAAT,EAAwBC,WAAxB,EAAqC;AAChD,UAAID,aAAa,YAAYE,QAA7B,EAAuC;AACnC,YAAMC,GAAG,GAAGH,aAAa,EAAzB;;AACA,YAAIG,GAAG,YAAYC,OAAnB,EAA4B;AACxBD,UAAAA,GAAG,CAACE,IAAJ,CAAS,UAAAC,CAAC,EAAI;AACVA,YAAAA,CAAC,IAAIL,WAAW,EAAhB;AACH,WAFD;AAGH,SAJD,MAIO;AACHE,UAAAA,GAAG,IAAIF,WAAW,EAAlB;AACH;AACJ,OATD,MASO;AACH;AACAD,QAAAA,aAAa,IAAIC,WAAW,EAA5B;AACH;AACJ,KAdD;;AAgBA,QAAMM,cAAc,GAAG,IAAItB,GAAJ,CAAQ;AAC3BuB,MAAAA,IAD2B,kBACpB;AACH,eAAO;AACHC,UAAAA,OAAO,EAAE;AADN,SAAP;AAGH,OAL0B;AAM3BC,MAAAA,MAAM,EAAEpB,GAAG,CAACqB,OANe;AAO3BC,MAAAA,KAAK,EAAEtB,GAAG,CAACuB,MAPgB;AAQ3BC,MAAAA,OAR2B,qBAQjB;AAAA;;AACN,aAAKC,GAAL,CAAS,OAAT,EAAkB,UAAAC,CAAC,EAAI;AACnB,UAAA,KAAI,CAACC,WAAL;AACH,SAFD;AAGH,OAZ0B;AAa3BC,MAAAA,OAAO,EAAE;AACLD,QAAAA,WADK,yBACS;AAAA;;AACVlB,UAAAA,MAAM,CAAC,KAAKoB,KAAL,CAAWC,UAAX,CAAsBC,QAAvB,EAAiC,YAAM;AACzC,YAAA,MAAI,CAACZ,OAAL,GAAe,KAAf;;AACA,YAAA,MAAI,CAACU,KAAL,CAAWC,UAAX,CAAsBE,KAAtB,CAA4B,OAA5B;;AACA,YAAA,MAAI,CAACH,KAAL,CAAWC,UAAX,CAAsBE,KAAtB,CAA4B,QAA5B;;AACAf,YAAAA,cAAc,CAACgB,QAAf;AACH,WALK,CAAN;AAMH,SARI;AASLC,QAAAA,QATK,sBASM;AAAA;;AACPzB,UAAAA,MAAM,CAAC,KAAKoB,KAAL,CAAWC,UAAX,CAAsBK,IAAtB,IAA8B,KAAKN,KAAL,CAAWC,UAAX,CAAsBM,IAArD,EAA2D,YAAM;AACnE,YAAA,MAAI,CAACjB,OAAL,GAAe,KAAf;;AACA,YAAA,MAAI,CAACU,KAAL,CAAWC,UAAX,CAAsBE,KAAtB,CAA4B,OAA5B;;AACA,YAAA,MAAI,CAACH,KAAL,CAAWC,UAAX,CAAsBE,KAAtB,CAA4B,IAA5B;;AACAf,YAAAA,cAAc,CAACgB,QAAf;AACH,WALK,CAAN;AAMH;AAhBI,OAbkB;AA+B3BI,MAAAA,MAAM,EAAE,gBAASC,CAAT,EAAY;AAChB,YAAMC,IAAI,GAAG,IAAb;AACA,YAAMC,UAAU,GAAGzC,UAAU,IAAIA,UAAU,CAAC0C,KAA5C;;AACA,YAAID,UAAJ,EAAgB;AACZ,iBAAOzC,UAAU,CAAC0C,KAAlB;AACH;;AACD,YAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAmBJ,UAAU,IAAI;AAAEC,UAAAA,KAAK,EAAED;AAAT,SAAf,IAAyC,EAA3D,EAA+D;AAC9EK,UAAAA,KAAK,EAAEF,MAAM,CAACC,MAAP,CACH,EADG,oBAGK7C,UAAU,CAAC8C,KAAX,IAAoB9C,UAHzB,GAKH;AACIoB,YAAAA,OAAO,EAAE,KAAKA;AADlB,WALG,CADuE;AAU9E2B,UAAAA,EAAE,EAAEH,MAAM,CAACC,MAAP,CACA,EADA,oBAGQ7C,UAAU,CAAC+C,EAAX,IAAiB/C,UAHzB,GAKA;AACIgD,YAAAA,EAAE,EAAE,cAAM;AACNR,cAAAA,IAAI,CAACL,QAAL;AACH,aAHL;AAIIc,YAAAA,MAAM,EAAE,kBAAM;AACVT,cAAAA,IAAI,CAACZ,WAAL;AACH;AANL,WALA;AAV0E,SAA/D,CAAnB;AA0BA,YAAMsB,cAAc,GAAGnD,cAAc,IAAIA,cAAc,CAAC2C,KAAxD;;AACA,YAAIQ,cAAJ,EAAoB;AAChB,iBAAOnD,cAAc,CAAC2C,KAAtB;AACH;;AACD,YAAMS,cAAc,GAAGP,MAAM,CAACC,MAAP,CAAc,EAAd,EAAmBK,cAAc,IAAI;AAAER,UAAAA,KAAK,EAAEQ;AAAT,SAAnB,IAAiD,EAAnE,EAAuE;AAC1FE,UAAAA,GAAG,EAAE,YADqF;AAE1FN,UAAAA,KAAK,EAAEF,MAAM,CAACC,MAAP,CACH,EADG,oBAGM9C,cAAc,IAAIA,cAAc,CAAC+C,KAAlC,IAA4C/C,cAHjD,EAFmF;AAQ1FgD,UAAAA,EAAE,EAAEH,MAAM,CAACC,MAAP,CACA,EADA,oBAGS9C,cAAc,IAAIA,cAAc,CAACgD,EAAlC,IAAyChD,cAHjD;AARsF,SAAvE,CAAvB;AAgBA,eAAOwC,CAAC,CAAC5C,KAAD,EAAQgD,UAAR,EAAoB,CAACJ,CAAC,CAACzC,SAAD,EAAYqD,cAAZ,CAAF,CAApB,CAAR;AACH;AApF0B,KAAR,EAqFpBE,MArFoB,CAqFblD,SArFa,CAAvB;AAsFH;;AAEDyC,EAAAA,MAAM,CAACU,cAAP,CAAsB1D,GAAG,CAAC2D,SAA1B,EAAqC,SAArC,EAAgD;AAC5CC,IAAAA,GAAG,EAAE,eAAM;AACP,aAAO,YAAW;AACd3D,QAAAA,MAAM,CAAC4D,KAAP,CAAa,IAAb,EAAmBC,SAAnB;AACH,OAFD;AAGH;AAL2C,GAAhD;AAOH,CA7HD","sourcesContent":["import Modal from 'ant-design-vue/es/modal'\r\nexport default Vue => {\r\n    function dialog(component, componentProps, modalProps) {\r\n        const _vm = this\r\n        modalProps = modalProps || {}\r\n        if (!_vm || !_vm._isVue) {\r\n            return\r\n        }\r\n        let dialogDiv = document.querySelector('body>div[type=dialog]')\r\n        if (!dialogDiv) {\r\n            dialogDiv = document.createElement('div')\r\n            dialogDiv.setAttribute('type', 'dialog')\r\n            document.body.appendChild(dialogDiv)\r\n        }\r\n\r\n        const handle = function(checkFunction, afterHandel) {\r\n            if (checkFunction instanceof Function) {\r\n                const res = checkFunction()\r\n                if (res instanceof Promise) {\r\n                    res.then(c => {\r\n                        c && afterHandel()\r\n                    })\r\n                } else {\r\n                    res && afterHandel()\r\n                }\r\n            } else {\r\n                // checkFunction && afterHandel()\r\n                checkFunction || afterHandel()\r\n            }\r\n        }\r\n\r\n        const dialogInstance = new Vue({\r\n            data() {\r\n                return {\r\n                    visible: true\r\n                }\r\n            },\r\n            router: _vm.$router,\r\n            store: _vm.$store,\r\n            mounted() {\r\n                this.$on('close', v => {\r\n                    this.handleClose()\r\n                })\r\n            },\r\n            methods: {\r\n                handleClose() {\r\n                    handle(this.$refs._component.onCancel, () => {\r\n                        this.visible = false\r\n                        this.$refs._component.$emit('close')\r\n                        this.$refs._component.$emit('cancel')\r\n                        dialogInstance.$destroy()\r\n                    })\r\n                },\r\n                handleOk() {\r\n                    handle(this.$refs._component.onOK || this.$refs._component.onOk, () => {\r\n                        this.visible = false\r\n                        this.$refs._component.$emit('close')\r\n                        this.$refs._component.$emit('ok')\r\n                        dialogInstance.$destroy()\r\n                    })\r\n                }\r\n            },\r\n            render: function(h) {\r\n                const that = this\r\n                const modalModel = modalProps && modalProps.model\r\n                if (modalModel) {\r\n                    delete modalProps.model\r\n                }\r\n                const ModalProps = Object.assign({}, (modalModel && { model: modalModel }) || {}, {\r\n                    attrs: Object.assign(\r\n                        {},\r\n                        {\r\n                            ...(modalProps.attrs || modalProps)\r\n                        },\r\n                        {\r\n                            visible: this.visible\r\n                        }\r\n                    ),\r\n                    on: Object.assign(\r\n                        {},\r\n                        {\r\n                            ...(modalProps.on || modalProps)\r\n                        },\r\n                        {\r\n                            ok: () => {\r\n                                that.handleOk()\r\n                            },\r\n                            cancel: () => {\r\n                                that.handleClose()\r\n                            }\r\n                        }\r\n                    )\r\n                })\r\n\r\n                const componentModel = componentProps && componentProps.model\r\n                if (componentModel) {\r\n                    delete componentProps.model\r\n                }\r\n                const ComponentProps = Object.assign({}, (componentModel && { model: componentModel }) || {}, {\r\n                    ref: '_component',\r\n                    attrs: Object.assign(\r\n                        {},\r\n                        {\r\n                            ...((componentProps && componentProps.attrs) || componentProps)\r\n                        }\r\n                    ),\r\n                    on: Object.assign(\r\n                        {},\r\n                        {\r\n                            ...((componentProps && componentProps.on) || componentProps)\r\n                        }\r\n                    )\r\n                })\r\n\r\n                return h(Modal, ModalProps, [h(component, ComponentProps)])\r\n            }\r\n        }).$mount(dialogDiv)\r\n    }\r\n\r\n    Object.defineProperty(Vue.prototype, '$dialog', {\r\n        get: () => {\r\n            return function() {\r\n                dialog.apply(this, arguments)\r\n            }\r\n        }\r\n    })\r\n}\r\n"]}]}