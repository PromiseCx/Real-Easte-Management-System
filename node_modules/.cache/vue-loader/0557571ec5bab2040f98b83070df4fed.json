{"remainingRequest":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\src\\views\\list\\table\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\src\\views\\list\\table\\List.vue","mtime":1587193627711},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebStrom\\TestProject\\project\\06楼盘管理3\\webproject\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IFNUYWJsZSB9IGZyb20gJ0AvY29tcG9uZW50cycNCmltcG9ydCB7IGdldFJvbGVMaXN0LCBnZXRTZXJ2aWNlTGlzdCB9IGZyb20gJ0AvYXBpL21hbmFnZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdUYWJsZUxpc3QnLA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgU1RhYmxlDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbWRsOiB7fSwNCiAgICAgICAgICAgIC8vIOmrmOe6p+aQnOe0oiDlsZXlvIAv5YWz6ZetDQogICAgICAgICAgICBhZHZhbmNlZDogZmFsc2UsDQogICAgICAgICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgICAgICAgIHF1ZXJ5UGFyYW06IHt9LA0KICAgICAgICAgICAgLy8g6KGo5aS0DQogICAgICAgICAgICBjb2x1bW5zOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogJyMnLA0KICAgICAgICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdzZXJpYWwnIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4TliJnnvJblj7cnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdubycNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmj4/ov7AnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdkZXNjcmlwdGlvbicNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmnI3liqHosIPnlKjmrKHmlbAnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdjYWxsTm8nLA0KICAgICAgICAgICAgICAgICAgICBzb3J0ZXI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG5lZWRUb3RhbDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUmVuZGVyOiB0ZXh0ID0+IHRleHQgKyAnIOasoScNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfnirbmgIEnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLA0KICAgICAgICAgICAgICAgICAgICBuZWVkVG90YWw6IHRydWUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmm7TmlrDml7bpl7QnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICd1cGRhdGVkQXQnLA0KICAgICAgICAgICAgICAgICAgICBzb3J0ZXI6IHRydWUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmk43kvZwnLA0KICAgICAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICdhY3Rpb24nLA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzE1MHB4JywNCiAgICAgICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnYWN0aW9uJyB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIC8vIOWKoOi9veaVsOaNruaWueazlSDlv4XpobvkuLogUHJvbWlzZSDlr7nosaENCiAgICAgICAgICAgIGxvYWREYXRhOiBwYXJhbWV0ZXIgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkRGF0YS5wYXJhbWV0ZXInLCBwYXJhbWV0ZXIpDQogICAgICAgICAgICAgICAgcmV0dXJuIGdldFNlcnZpY2VMaXN0KE9iamVjdC5hc3NpZ24ocGFyYW1ldGVyLCB0aGlzLnF1ZXJ5UGFyYW0pKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMucmVzdWx0DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IFtdLA0KICAgICAgICAgICAgc2VsZWN0ZWRSb3dzOiBbXSwNCg0KICAgICAgICAgICAgLy8gY3VzdG9tIHRhYmxlIGFsZXJ0ICYgcm93U2VsZWN0aW9uDQogICAgICAgICAgICBvcHRpb25zOiB7DQogICAgICAgICAgICAgICAgYWxlcnQ6IHsNCiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgY2xlYXI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dLZXlzID0gW10NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uOiB7DQogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zZWxlY3RlZFJvd0tleXMsDQogICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uU2VsZWN0Q2hhbmdlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9wdGlvbkFsZXJ0U2hvdzogZmFsc2UNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy50YWJsZU9wdGlvbigpDQogICAgICAgIGdldFJvbGVMaXN0KHsgdDogbmV3IERhdGUoKSB9KQ0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICB0YWJsZU9wdGlvbigpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25BbGVydFNob3cpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0OiB7DQogICAgICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93S2V5cyA9IFtdDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdGlvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnNlbGVjdGVkUm93S2V5cywNCiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uU2VsZWN0Q2hhbmdlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25BbGVydFNob3cgPSB0cnVlDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246IG51bGwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25BbGVydFNob3cgPSBmYWxzZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIGhhbmRsZUVkaXQocmVjb3JkKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdvbkVkaXQnLCByZWNvcmQpDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZU9rKCkge30sDQoNCiAgICAgICAgb25TZWxlY3RDaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzDQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHNlbGVjdGVkUm93cw0KICAgICAgICB9LA0KICAgICAgICB0b2dnbGVBZHZhbmNlZCgpIHsNCiAgICAgICAgICAgIHRoaXMuYWR2YW5jZWQgPSAhdGhpcy5hZHZhbmNlZA0KICAgICAgICB9LA0KDQogICAgICAgIHJlc2V0U2VhcmNoRm9ybSgpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlQYXJhbSA9IHsNCiAgICAgICAgICAgICAgICBkYXRlOiBtb21lbnQobmV3IERhdGUoKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/list/table","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"48\">\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"规则编号\">\r\n              <a-input v-model=\"queryParam.id\" placeholder />\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"使用状态\">\r\n              <a-select v-model=\"queryParam.status\" placeholder=\"请选择\" default-value=\"0\">\r\n                <a-select-option value=\"0\">全部</a-select-option>\r\n                <a-select-option value=\"1\">关闭</a-select-option>\r\n                <a-select-option value=\"2\">运行中</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n          <template v-if=\"advanced\">\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"调用次数\">\r\n                <a-input-number v-model=\"queryParam.callNo\" style=\"width: 100%\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"更新日期\">\r\n                <a-date-picker v-model=\"queryParam.date\" style=\"width: 100%\" placeholder=\"请输入更新日期\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"使用状态\">\r\n                <a-select v-model=\"queryParam.useStatus\" placeholder=\"请选择\" default-value=\"0\">\r\n                  <a-select-option value=\"0\">全部</a-select-option>\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"使用状态\">\r\n                <a-select placeholder=\"请选择\" default-value=\"0\">\r\n                  <a-select-option value=\"0\">全部</a-select-option>\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </template>\r\n          <a-col :md=\"!advanced && 8 || 24\" :sm=\"24\">\r\n            <span\r\n              class=\"table-page-search-submitButtons\"\r\n              :style=\"advanced && { float: 'right', overflow: 'hidden' } || {} \"\r\n            >\r\n              <a-button type=\"primary\" @click=\"$refs.table.refresh(true)\">查询</a-button>\r\n              <a-button style=\"margin-left: 8px\" @click=\"() => queryParam = {}\">重置</a-button>\r\n              <a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n                {{ advanced ? '收起' : '展开' }}\r\n                <a-icon :type=\"advanced ? 'up' : 'down'\" />\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <div class=\"table-operator\">\r\n      <a-button type=\"primary\" icon=\"plus\" @click=\"handleEdit()\">新建</a-button>\r\n      <a-button type=\"dashed\" @click=\"tableOption\">{{ optionAlertShow && '关闭' || '开启' }} alert</a-button>\r\n      <a-dropdown v-action:edit v-if=\"selectedRowKeys.length > 0\">\r\n        <a-menu slot=\"overlay\">\r\n          <a-menu-item key=\"1\">\r\n            <a-icon type=\"delete\" />删除\r\n          </a-menu-item>\r\n          <!-- lock | unlock -->\r\n          <a-menu-item key=\"2\">\r\n            <a-icon type=\"lock\" />锁定\r\n          </a-menu-item>\r\n        </a-menu>\r\n        <a-button style=\"margin-left: 8px\">\r\n          批量操作\r\n          <a-icon type=\"down\" />\r\n        </a-button>\r\n      </a-dropdown>\r\n    </div>\r\n\r\n    <s-table\r\n      ref=\"table\"\r\n      size=\"default\"\r\n      rowKey=\"key\"\r\n      :columns=\"columns\"\r\n      :data=\"loadData\"\r\n      :alert=\"options.alert\"\r\n      :rowSelection=\"options.rowSelection\"\r\n    >\r\n      <span slot=\"serial\" slot-scope=\"text, record, index\">{{ index + 1 }}</span>\r\n      <span slot=\"action\" slot-scope=\"text, record\">\r\n        <template>\r\n          <a @click=\"handleEdit(record)\">编辑</a>\r\n          <a-divider type=\"vertical\" />\r\n        </template>\r\n        <a-dropdown>\r\n          <a class=\"ant-dropdown-link\">\r\n            更多\r\n            <a-icon type=\"down\" />\r\n          </a>\r\n          <a-menu slot=\"overlay\">\r\n            <a-menu-item>\r\n              <a href=\"javascript:;\">详情</a>\r\n            </a-menu-item>\r\n            <a-menu-item v-if=\"$auth('table.disable')\">\r\n              <a href=\"javascript:;\">禁用</a>\r\n            </a-menu-item>\r\n            <a-menu-item v-if=\"$auth('table.delete')\">\r\n              <a href=\"javascript:;\">删除</a>\r\n            </a-menu-item>\r\n          </a-menu>\r\n        </a-dropdown>\r\n      </span>\r\n    </s-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { STable } from '@/components'\r\nimport { getRoleList, getServiceList } from '@/api/manage'\r\n\r\nexport default {\r\n    name: 'TableList',\r\n    components: {\r\n        STable\r\n    },\r\n    data() {\r\n        return {\r\n            mdl: {},\r\n            // 高级搜索 展开/关闭\r\n            advanced: false,\r\n            // 查询参数\r\n            queryParam: {},\r\n            // 表头\r\n            columns: [\r\n                {\r\n                    title: '#',\r\n                    scopedSlots: { customRender: 'serial' }\r\n                },\r\n                {\r\n                    title: '规则编号',\r\n                    dataIndex: 'no'\r\n                },\r\n                {\r\n                    title: '描述',\r\n                    dataIndex: 'description'\r\n                },\r\n                {\r\n                    title: '服务调用次数',\r\n                    dataIndex: 'callNo',\r\n                    sorter: true,\r\n                    needTotal: true,\r\n                    customRender: text => text + ' 次'\r\n                },\r\n                {\r\n                    title: '状态',\r\n                    dataIndex: 'status',\r\n                    needTotal: true\r\n                },\r\n                {\r\n                    title: '更新时间',\r\n                    dataIndex: 'updatedAt',\r\n                    sorter: true\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    dataIndex: 'action',\r\n                    width: '150px',\r\n                    scopedSlots: { customRender: 'action' }\r\n                }\r\n            ],\r\n            // 加载数据方法 必须为 Promise 对象\r\n            loadData: parameter => {\r\n                console.log('loadData.parameter', parameter)\r\n                return getServiceList(Object.assign(parameter, this.queryParam)).then(res => {\r\n                    return res.result\r\n                })\r\n            },\r\n            selectedRowKeys: [],\r\n            selectedRows: [],\r\n\r\n            // custom table alert & rowSelection\r\n            options: {\r\n                alert: {\r\n                    show: true,\r\n                    clear: () => {\r\n                        this.selectedRowKeys = []\r\n                    }\r\n                },\r\n                rowSelection: {\r\n                    selectedRowKeys: this.selectedRowKeys,\r\n                    onChange: this.onSelectChange\r\n                }\r\n            },\r\n            optionAlertShow: false\r\n        }\r\n    },\r\n    created() {\r\n        this.tableOption()\r\n        getRoleList({ t: new Date() })\r\n    },\r\n    methods: {\r\n        tableOption() {\r\n            if (!this.optionAlertShow) {\r\n                this.options = {\r\n                    alert: {\r\n                        show: true,\r\n                        clear: () => {\r\n                            this.selectedRowKeys = []\r\n                        }\r\n                    },\r\n                    rowSelection: {\r\n                        selectedRowKeys: this.selectedRowKeys,\r\n                        onChange: this.onSelectChange\r\n                    }\r\n                }\r\n                this.optionAlertShow = true\r\n            } else {\r\n                this.options = {\r\n                    alert: false,\r\n                    rowSelection: null\r\n                }\r\n                this.optionAlertShow = false\r\n            }\r\n        },\r\n\r\n        handleEdit(record) {\r\n            this.$emit('onEdit', record)\r\n        },\r\n        handleOk() {},\r\n\r\n        onSelectChange(selectedRowKeys, selectedRows) {\r\n            this.selectedRowKeys = selectedRowKeys\r\n            this.selectedRows = selectedRows\r\n        },\r\n        toggleAdvanced() {\r\n            this.advanced = !this.advanced\r\n        },\r\n\r\n        resetSearchForm() {\r\n            this.queryParam = {\r\n                date: moment(new Date())\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]}]}