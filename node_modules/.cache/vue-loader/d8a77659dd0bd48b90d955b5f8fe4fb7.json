{"remainingRequest":"D:\\webproject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webproject\\src\\views\\property\\addGuide\\Step1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webproject\\src\\views\\property\\addGuide\\Step1.vue","mtime":1587823665531},{"path":"D:\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webproject\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNlbGVjdENvbXBhbnksIGluc2VydEVzdGF0ZSB9IGZyb20gJ0AvYXBpL2VzdGF0ZScKY29uc3QgUVMgPSByZXF1aXJlKCdxcycpCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdTdGVwMScsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNlbGVjdDogW10sCiAgICAgICAgICAgIGxhYmVsQ29sOiB7IGxnOiB7IHNwYW46IDYgfSwgc206IHsgc3BhbjogNCB9IH0sCiAgICAgICAgICAgIHdyYXBwZXJDb2w6IHsgbGc6IHsgc3BhbjogMTYgfSwgc206IHsgc3BhbjogMjAgfSB9LAogICAgICAgICAgICBmb3JtOiB7CiAgICAgICAgICAgICAgICBjb21wYW55OiBbXSwKICAgICAgICAgICAgICAgIGVzdGF0ZUNvZGU6ICcnLAogICAgICAgICAgICAgICAgZXN0YXRlTmFtZTogJycsCiAgICAgICAgICAgICAgICBjb3ZlckFyZWE6ICcnLAogICAgICAgICAgICAgICAgYnVpbGRBcmVhOiAnJywKICAgICAgICAgICAgICAgIGdyZWVuQXJlYTogJycsCiAgICAgICAgICAgICAgICByb2FkQXJlYTogJycsCiAgICAgICAgICAgICAgICBidWlsZGluZ051bWJlcjogJycsCiAgICAgICAgICAgICAgICBidWlsZGluZ0xlYWRlcjogJycsCiAgICAgICAgICAgICAgICBlc3RhdGVBZGRyOiAnJywKICAgICAgICAgICAgICAgIGNvbXBhbnlOYW1lOiAnJywKICAgICAgICAgICAgICAgIGNvbXBhbnlCZWhhbGY6ICcnLAogICAgICAgICAgICAgICAgY29udGFjdDogJycsCiAgICAgICAgICAgICAgICBjb250YWN0UGhvbmU6ICcnLAogICAgICAgICAgICAgICAgcmVtYXJrOiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgZXN0YXRlQ29kZTogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfkvY/lroXnvJbnoIHlv4XpobvloavlhpknLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgICAgICAgICAgICAgIC8vIHsgbWluOiAzLCBtYXg6IDUsIG1lc3NhZ2U6ICdMZW5ndGggc2hvdWxkIGJlIDMgdG8gNScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY29tcGFueTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfmiYDlsZ7lhazlj7jlv4XpobvloavlhpknLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICAgICAgICAgIGVzdGF0ZU5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5qW85a6H5ZCN56ew5b+F6aG75aGr5YaZJywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgICAgICAgICAgYnVpbGRpbmdOdW1iZXI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5qW85a6H5pWw6YeP5b+F6aG75aGr5YaZJywKICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsgbWluOiAxLCBtYXg6IDIwLCB0eXBlOiAnbnVtYmVyJywgbWVzc2FnZTogJ0xlbmd0aCBzaG91bGQgYmUgMSB0byAyMCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHNlbGVjdENvbXBhbnkoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ID0gcmVzLnJlc3VsdAogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmaWNhdGlvblsnZXJyb3InXSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnIudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxCiAgICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgbmV4dFN0ZXAoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduYW1lJyArIHRoaXMuZm9ybS5lc3RhdGVOYW1lKQogICAgICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBRUy5zdHJpbmdpZnkodGhpcy5mb3JtKQogICAgICAgICAgICAgICAgICAgIGluc2VydEVzdGF0ZShkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZSA9PT0gJzEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZmljYXRpb24uc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzLnJlc3VsdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfVElUTEUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdOdW1iZXI6IHRoaXMuZm9ybS5idWlsZGluZ051bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc3RhdGVDb2RlOiB0aGlzLmZvcm0uZXN0YXRlQ29kZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ25leHRTdGVwJykKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmaWNhdGlvbi5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+Wksei0pScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXMucmVzdWx0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aKseatiScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyLnJlc3VsdAogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcmVzZXRGb3JtKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnJ1bGVGb3JtLnJlc2V0RmllbGRzKCkKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5ydWxlRm9ybS5yZXNldEZpZWxkcykKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Step1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Step1.vue","sourceRoot":"src/views/property/addGuide","sourcesContent":["<template>\n  <div>\n    <a-form-model ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" style=\"margin: 20px auto 0;\">\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"所属公司\"\n            :labelCol=\"labelCol\"\n            prop=\"company\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-select v-model=\"form.company\">\n              <a-select-option\n                :value=\"item.id\"\n                v-for=\"(item, index) in select\"\n                :key=\"index\"\n              >{{ item.companyFullName }}</a-select-option>\n            </a-select>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅编码\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            prop=\"estateCode\"\n            ref=\"estateCode\"\n          >\n            <a-input v-model=\"form.estateCode\" @blur=\"() => {$refs.estateCode.onFieldBlur()}\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"住宅名称\"\n            prop=\"estateName\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model=\"form.estateName\" />\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"占地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.coverArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"建筑面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"绿地面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.greenArea\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"道路面积(平房米)\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.roadArea\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item\n            label=\"楼宇数量\"\n            :labelCol=\"labelCol\"\n            prop=\"buildingNumber\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a-input v-model.number=\"form.buildingNumber\" />\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"负责人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.buildingLeader\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"住宅地址\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.estateAddr\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-row>\n        <div style=\"text-align:center;\">----开发商信息----</div>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"公司名称\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyName\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"法人代表\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.companyBehalf\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系人\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contact\"/>\n          </a-form-model-item>\n        </a-col>\n        <a-col :span=\"12\">\n          <a-form-model-item label=\"联系电话\" :labelCol=\"labelCol\" :wrapperCol=\"wrapperCol\">\n            <a-input v-model=\"form.contactPhone\"/>\n          </a-form-model-item>\n        </a-col>\n      </a-row>\n      <a-row>\n        <a-form-model-item label=\"备注\" :labelCol=\"{span: 3}\" :wrapperCol=\"{span: 20}\">\n          <a-input v-model=\"form.remark\"/>\n        </a-form-model-item>\n      </a-row>\n      <a-form-model-item :wrapperCol=\"{span: 19, offset: 5}\">\n        <a-button type=\"primary\" @click=\"nextStep(123)\">下一步</a-button>\n        <a-button style=\"margin-left: 10px;\" @click=\"resetForm\">Reset</a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nimport { selectCompany, insertEstate } from '@/api/estate'\nconst QS = require('qs')\nexport default {\n    name: 'Step1',\n    data() {\n        return {\n            select: [],\n            labelCol: { lg: { span: 6 }, sm: { span: 4 } },\n            wrapperCol: { lg: { span: 16 }, sm: { span: 20 } },\n            form: {\n                company: [],\n                estateCode: '',\n                estateName: '',\n                coverArea: '',\n                buildArea: '',\n                greenArea: '',\n                roadArea: '',\n                buildingNumber: '',\n                buildingLeader: '',\n                estateAddr: '',\n                companyName: '',\n                companyBehalf: '',\n                contact: '',\n                contactPhone: '',\n                remark: ''\n            },\n            rules: {\n                estateCode: [\n                    { required: true, message: '住宅编码必须填写', trigger: 'blur' }\n                    // { min: 3, max: 5, message: 'Length should be 3 to 5', trigger: 'blur' }\n                ],\n                company: [{ required: true, message: '所属公司必须填写', trigger: 'change' }],\n                estateName: [{ required: true, message: '楼宇名称必须填写', trigger: 'blur' }],\n                buildingNumber: [\n                    {\n                        required: true,\n                        message: '楼宇数量必须填写',\n                        trigger: 'change'\n                    },\n                    { min: 1, max: 20, type: 'number', message: 'Length should be 1 to 20', trigger: 'change' }\n                ]\n            }\n        }\n    },\n    created() {\n        selectCompany().then(res => {\n            this.select = res.result\n        }).catch(err => {\n            this.$notification['error']({\n                message: '错误',\n                description: err.toString(),\n                duration: 1\n            })\n        })\n    },\n    methods: {\n        nextStep() {\n            console.log('name' + this.form.estateName)\n            this.$refs.ruleForm.validate(valid => {\n                if (valid) {\n                    const data = QS.stringify(this.form)\n                    insertEstate(data).then(res => {\n                        if (res.message === '1') {\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '成功',\n                                    description: res.result\n                                })\n                            }, 1000)\n                            this.$store.commit('SET_TITLE', {\n                                buildingNumber: this.form.buildingNumber,\n                                estateCode: this.form.estateCode\n                            })\n                            this.$emit('nextStep')\n                        } else {\n                            setTimeout(() => {\n                                this.$notification.success({\n                                    message: '失败',\n                                    description: res.result\n                                })\n                            }, 1000)\n                        }\n                    }).catch(err => {\n                        this.$notification.error({\n                            message: '抱歉',\n                            description: err.result\n                        })\n                    })\n                } else {\n                    return false\n                }\n            })\n        },\n        resetForm() {\n            this.$refs.ruleForm.resetFields()\n            console.log(this.$refs.ruleForm.resetFields)\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.step-form-style-desc {\n    padding: 0 56px;\n    color: rgba(0, 0, 0, 0.45);\n\n    h3 {\n        margin: 0 0 12px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 16px;\n        line-height: 32px;\n    }\n\n    h4 {\n        margin: 0 0 4px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 14px;\n        line-height: 22px;\n    }\n\n    p {\n        margin-top: 0;\n        margin-bottom: 12px;\n        line-height: 22px;\n    }\n}\n.ant-form-item {\n    margin-bottom: 8px;\n}\n</style>\n"]}]}